contact.h
#pragma once
#include<stdio.h>
#include<stdlib.h>
#define NAME_max 20
#define SEX_max 10 //male female
#define TEL_max 20
#define Addr_max 100
typedef struct personinfo
{
	char name[NAME_max];
	char sex[SEX_max];
	int age;
	char tel[TEL_max];
	char addr[Addr_max];
}perinfo;
//姓名 性别 年龄 电话 住址
//通讯录其实就是将顺序表中的数据类型修改为一个具体的联系人信息结构体
//其他结构不会发生改变
typedef perinfo sldatatype;
typedef struct seqlist   //这里是对顺序表结构的创建
{
	sldatatype* conf;
	int len;
	int capacity;
}SL;
typedef SL Contact;//其实可以在上一步就直接修改，这里只是为了方便理解
//通讯录的初始化 销毁 添加 删除 修改 查找 展示
void InitContact(Contact* con);
void DestroyContact(Contact* con);
void AddContact(Contact* con);
void DelContact(Contact* con);
void ModContact(Contact* con);
void FindContact(Contact* con);
void ShowContact(Contact* con);

contact.c
#define _CRT_SECURE_NO_WARNINGS
#include"contact.h"
void InitContact(Contact* con)
{
	con->conf = NULL;
	con->len =con->capacity = 0;
}
void DestroyContact(Contact* con)
{
	if (con->conf)
		free(con->conf);
	InitContact(con);
}
void checkcapacity(Contact* con)
{
	if (con->len == con->capacity)
	{
		int newcapacity = con->capacity == 0 ? 4 : 2 * con->capacity;
		perinfo* newconf = (perinfo*)realloc(con->conf,newcapacity * sizeof(perinfo));
		if (newconf==NULL)
		{
			perror("realloc failed");
			exit(1);
		}
		con->capacity=newcapacity;
		con->conf = newconf;
	}
}
void AddContact(Contact* con)
{
	checkcapacity(con);
	printf("请输入联系人姓名：\n");
	scanf("%s", con->conf[con->len].name);
	printf("请输入联系人电话：\n");
	scanf("%s", con->conf[con->len].tel);
	printf("请输入联系人的性别：\n");
	scanf("%s", con->conf[con->len].sex);
	printf("请输入联系人的年龄：\n");
	scanf("%d", &con->conf[con->len].age);//这里是&符号，表示地址，而不是值
	printf("请输入联系人的地址：\n");
	scanf("%s", con->conf[con->len].addr);
	con->len++;//这里使用尾插法
}
void ShowContact(Contact* con)
{
	for (int i = 0; i < con->len; i++)
	{
		printf("第%d个联系人的信息\n", i+1);
		printf("姓名：%s   ", con->conf[i].name);
		printf("电话：%s   ", con->conf[i].tel);
		printf("性别：%s   ", con->conf[i].sex);
		printf("年龄：%d   ", con->conf[i].age);
		printf("地址：%s\n", con->conf[i].addr);
	}
}
int findbyname(Contact* con, char* name)
{
	for (int i = 0; i < con->len; i++)
	{
		if (strcmp(con->conf[i].name, name) == 0)
		{
			return i;
		}
	}
	return -1;//没有找到
}
void DelContact(Contact* con)
{
	char name[NAME_max];
	printf("请输入要删除的联系人姓名：\n");
	scanf("%s", name);
	int i=findbyname(con, name);
	if (i != -1)
	{
		for (int j = i; j < con->len - 1; j++)
		{
			con->conf[j] = con->conf[j + 1];
		}
		con->len--;
		printf("删除成功！\n");
	}
	else printf("没有找到该联系人！\n");
}
void ModContact(Contact* con)
{
	char name[NAME_max];
	printf("请输入要修改的联系人姓名：\n");
	scanf("%s", name);
	int i = findbyname(con, name);
	if (i != -1)
	{
		printf("请输入新的联系人姓名：\n");
		scanf("%s", con->conf[i].name);
		printf("请输入新的联系人电话：\n");
		scanf("%s", con->conf[i].tel);
		printf("请输入新的联系人的性别：\n");
		scanf("%s", con->conf[i].sex);
		printf("请输入新的联系人的年龄：\n");
		scanf("%d", &con->conf[i].age);
		printf("请输入新的联系人的地址：\n");
		scanf("%s", con->conf[i].addr);
		printf("修改成功！\n");
	}
	else
	{
		printf("该联系人不存在 ！\n");
		return;
	}
}
void FindContact(Contact* con)
{
	char name[NAME_max];
	printf("请输入要查找的联系人姓名：\n");
	scanf("%s", name);
	int i = findbyname(con, name);
	if (i != -1)
	{
		printf("第%d个联系人的信息\n", i + 1);
		printf("姓名：%s   ", con->conf[i].name);
		printf("电话：%s   ", con->conf[i].tel);
		printf("性别：%s   ", con->conf[i].sex);
		printf("年龄：%d   ", con->conf[i].age);
		printf("地址：%s\n", con->conf[i].addr);
	}
	else
	{
		printf("该联系人不存在\n");
		return ;
	}
}

test.c
#include"contact.h"
void menu()
{
	printf("***************通讯录****************\n");
	printf("***** 1.添加联系人 2.删除联系人 *****\n");
	printf("***** 3.修改联系人 4.查找联系人 *****\n");
	printf("***** 5.显示联系人 0.退出程序 *******\n");
	printf("*************************************\n");

}
int main()
{
	int op = -1;
	Contact con;
	InitContact(&con);
	void (*pfun[6])(Contact*) = {DestroyContact, AddContact, DelContact, ModContact, FindContact, ShowContact};
	do
	{
		menu();
		printf("请选择将要进行的操作\n");
		scanf("%d", &op);
		if (op >= 0 && op <= 5)
		{
			pfun[op](&con);
		}
		else
		{
			printf("输入错误，请重新输入！\n");
		}
	} while (op != 0);
	return 0;
}
